<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="chapter.rdairplay">
  <title>Running Logs with RDAirPlay</title>
 <sect1 xml:id="sect.rdairplay.overview">
   <title>Overview</title>
   <para>
     RDAirPlay is the Rivendell module used to run logs generated by the
     RDLogEdit or RDLogManager (for an overview of Rivendell logs, see
     <xref linkend="chapter.rdlogedit"/>).
     It contains a wide array of features for enabling
     playout of audio content in live assist as well as fully automated
     environments.
   </para>
   <para>
     <mediaobject>
       <imageobject>
	 <imagedata align="center" fileref="rdairplay.rdairplay_screenshot.png" width="163mm" depth="124mm" />
       </imageobject>
       <caption>
	 <para>The RDAirPlay Main Window</para>
       </caption>
     </mediaobject>
   </para>
 </sect1>
 <sect1 xml:id="sect.rdairplay.log_machines">
   <title>Log Machines</title>
   <para>
     Fundamental to the operation of RDAirPlay is the concept of a
     <emphasis>log machine</emphasis>.
     A log machine is a virtual “device” into which a Rivendell
     log may be loaded and executed. RDAirPlay has three such log machines,
     called <computeroutput>Main Log</computeroutput>,
     <computeroutput>Aux 1 Log</computeroutput> and
     <computeroutput>Aux 2 Log</computeroutput>.  Each of these log machines
     is completely independent of the others in the sense that different
     logs can be loaded and executed simultaneously in the respective
     machines.
   </para>
 </sect1>
 <sect1 xml:id="sect.rdairplay.layout">
   <title>Layout</title>
   <para>
     The RDAirPlay main screen consists of
     four primary areas: the top area, which contains a variety of
     indicators for use in live assist situations as well as a set of
     audio meters; the button widget, which occupies the bulk of the
     left-hand side of the screen; the right-hand side, which displays
     either a SoundPanel array or a full log width; and the edit buttons
     in the lower left-hand corner of the screen.
   </para>
   <para>
     The top area contains the following indicators:
   </para>
   <sect2 xml:id="sect.rdairplay.the_wall_clock">
     <title>The Wall Clock</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.wallclock_widget.png" width="44mm" depth="13mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       In the upper left-hand corner is the wall clock indicator, which
       indicates the current system date and time.
       If the system administrator has enabled it, this display
       may also flash RED to indicate possible clock inaccuracy due to loss
       of master clock synchronization.
     </para>
   </sect2>
   <sect2 xml:id="sect.rdairplay.the_mode_indicator">
     <title>The Mode Indicator</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.mode_widget.png" width="44mm" depth="13mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       Directly beneath the wall clock indicator is the mode indicator,
       showing the current automation mode of the log machines. Three
       different modes are possible: 
       <computeroutput>Automatic</computeroutput>, in which all log features,
       including <computeroutput>PLAY</computeroutput> and
       <computeroutput>SEGUE</computeroutput> transitions and hard times
       are fully
       enabled; <computeroutput>LiveAssist</computeroutput>, in which no
       automatic transitions or hard start
       times are executed but automatic crossfades are done between
       elements; and <computeroutput>Manual</computeroutput>, which is
       very similar to LiveAssist except
       that not even automatic crossfades are enabled (thus permitting
       fully manual crossfade control by means of an external console).
       To change RDAirPlay to a different mode, simply touch the mode
       indicator until the desired mode is indicated.
     </para>
     <note>
       The System Administrator may have configured RDAirPlay to allow
       each log machine to have its mode independently set, in which case
       touching the mode indicator will only change the log of the
       <computeroutput>Main Log</computeroutput> log machine.
     </note>
   </sect2>

   <sect2 xml:id="sect.rdairplay.the_audio_meters">
     <title>The Audio Meters</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.audio_meter.png" width="24mm" depth="26mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       Immediately to the right of the wall clock and mode indicator is the
       audio meter area, containing one or more audio meters (one for each
       configured audio output on RDAirPlay). Levels are referenced such
       that '0' level corresponds to -16 dBFS.
     </para>
   </sect2>

   <sect2 xml:id="sect.rdairplay.the_label_area">
     <title>The Label Area</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.label_widget.png" scale="60"/>
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       Immediately to the right of the audio meter area is the
       label area. Text messages can be made to appear here (by means of
       RML commands) to signal the operator concerning the state of the
       system or need to take some kind of action.
     </para>
   </sect2>

   <sect2 xml:id="sect.rdairplay.user_logo">
     <title>The User Logo</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.user_logo.png" width="40mm" depth="30mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       Immediately to the right of the label widget is the user logo. This
       image can be customized by means of a setting in RDAdmin.
     </para>
   </sect2>

   <sect2 xml:id="sect.rdairplay.the_button_log_widget">
     <title>The Button Log Widget</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.button_log_widget.png" width="112mm" depth="139mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       Occupying most of left hand side of RDAirPlay is the button log widget,
       consisting of several indicators above a column of seven or more
       large buttons adjacent to cart labels.
       This widget provides a specialized “view” of the
       <computeroutput>Main Log</computeroutput> log
       machine. Specifically, the first seven or more currently playing and/or
       next events in that log machine will always be visible here. Events
       visible in the button log will be shown in the full log widget as
       having a green background. Unlike the full log widget, the button
       log is always visible, regardless of which display has been selected
       for the right-hand side.
     </para>
   <sect2 xml:id="sect.rdairplay.the_post_point_counter">
     <title>The Post Point Counter</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.postpoint_ontime_widget.png" width="42mm" depth="15mm"/>
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       In the upper left-hand corner of the Button Log is the Post Point
       Counter, which provides timing information regarding the log's next
       post point (typically, the next event with a hard time attribute).
     </para>
     <para>
       The counter can be in one of four possible states: 
       <computeroutput>Idle</computeroutput>, 
       <computeroutput>On Time</computeroutput>,
       <computeroutput>Under Time</computeroutput> or
       <computeroutput>Over Time</computeroutput>.
       The counter will provide an estimate of how “on-time” the log currently
       is, on the basis of the current time and events still scheduled to be
       played.
     </para>
     <para>
       If the playout is such that the next hard time will be reached within one
       second of its programmed time, then the counter will be in
       <computeroutput>On Time</computeroutput> mode. The value shown in
       the square brackets is the
       scheduled time of the hard-timed event.
     </para>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.postpoint_early_widget.png" width="42mm" depth="15mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       If the playout is such that the next hard time will be reached
       one second
       or more before its programmed time, then the counter will be in
       <computeroutput>Early</computeroutput>
       mode. It will also give an indication of how
       much more material would need to be added to make the join on time.
     </para>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.postpoint_late_widget.png" width="42mm" depth="15mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       If the playout is such that the next hard time will be reached one
       second or more after its programmed time, then the counter will be in
       <computeroutput>Late</computeroutput>
       mode. It will also give an indication of how
       much material would need to be removed to make the join on time.
     </para>
   </sect2>
     <para>
       To start an event from the button log, simply touch an event's
       corresponding <computeroutput>Start</computeroutput> button.
       Touching the button of a running event
       will either (depending upon how the system administrator has
       configured RDAirPlay) stop or pause it. To modify an event's
       parameters (via the Edit Event dialog), simply double-click the
       event's cart label.
     </para>
   </sect2>

   <sect2 xml:id="sect.rdairplay.the_pie_wedge_widget">
     <title>The Pie Wedge Widget</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.piewedge_widget.png" width="25mm" depth="25mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       In the top center of the top area is the pie wedge widget. This
       widget counts down the final few seconds of each event. The length
       of time it counts down, along with whether it counts to the start
       of the next transition or the absolute end of the event are both
       configurable in RDAdmin. The color of the band that grows as the
       countdown progresses (shown in GREEN in the illustration) will
       change color
       to indicate if the currently playing event is the last event before
       a log stopdown. If it is the last, it will be RED, if not, GREEN.
       A BLUE band and countdown will also appear to indicate the event's
       talk time (if talk time markers have been set in the underlying cart).
       If the On-Air flag has been set to ON, the area around the
       pie widget will be RED.
     </para>
   </sect2>
   <sect2 xml:id="sect.rdairplay.the_next_stop_counter">
     <title>The Next Stop Counter</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.next_stop_widget.png" width="42mm" depth="15mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       Immediately to the right of the pie wedge widget is the next stop
       counter. The large numerals indicate the predicted interval of time
       before the next stopdown of the
       <computeroutput>Main Log</computeroutput> machine, with the actual
       predicted time in the square brackets.  If the
       <computeroutput>Main Log</computeroutput> is already
       stopped, then the counter simply displays
       <computeroutput>Stopped</computeroutput>.
     </para>
   </sect2>

   <sect2 xml:id="sect.rdairplay.the_right_hand_side">
     <title>The Right-Hand Side</title>
     <para>
       Directly below the label area is the right-hand side. The right-hand
       side can display either a SoundPanel array or a full log widget for
       each of the three log machines, selected by clicking the appropriate
       button in the lower right-hand corner of the screen. (NOTE:
       depending upon how the system administrator has configured the
       system, not all of the log machine buttons may be visible on your
       system).
     </para>
   </sect2>
   <sect2 xml:id="sect.rdairplay.the_full_log_widget">
     <title>The Full Log Widget</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.full_log_widget.png" width="119mm" depth="138mm"/>
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       As the name implies, the full log widget can be used to view the
       contents of a log over its entire length. To load a log, touch the
       <computeroutput>Select Log</computeroutput> button to bring up the
       Select Log dialog, select the
       desired log from the list and then touch
       <computeroutput>Load</computeroutput>.  The currently loaded
       log can also be saved by touching the
       <computeroutput>Save</computeroutput> or
       <computeroutput>Save As</computeroutput> buttons, or
       the current log unloaded by touching
       <computeroutput>Unload</computeroutput>.
     </para>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="center" fileref="rdairplay.select_a_log_dialog.png" width="129mm" depth="91mm" />
	 </imageobject>
	 <caption><para>The Select Log Dialog</para></caption>
       </mediaobject>
     </para>
     <para>
       Once a log is loaded, it can be started at any point by touching an
       event and then pressing the <computeroutput>Play</computeroutput>
       button. Any playing event can
       likewise be stopped by touching in the event and then pressing the
       <computeroutput>Stop</computeroutput> button.
       To cue-up an event so that it is the next to play
       (indicated by the event being the first with a light green
       background), touch the event and then press the
       <computeroutput>Make Next</computeroutput> button.
       The play parameters of an event can be modified by touching the event,
       then pressing the Modify button, bringing up the Edit Event dialog.
     </para>
     <para>
       In addition to having the ability to modify the event's time and
       transition parameters, the Edit Event dialog can be used to audition
       the event's audio in Cue or set the start position of the audio for
       on-air playback (so as to allow a program to be joined
       &quot;in progress&quot;, for example). To audition the audio,
       simply press the <computeroutput>Play</computeroutput> button.
       The slider can be moved to adjust
       where in the audio to audition from.  To set the start position,
       press the <computeroutput>Start</computeroutput> button and then
       position the slider where you wish
       the start to be. The red line on the progress display indicates the
       current start position.  Pressing the 
       <computeroutput>Start</computeroutput> button again returns
       the dialog to Audition mode.
     </para>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="center" fileref="rdairplay.edit_event_dialog.png" width="142mm" depth="77mm" />
	 </imageobject>
	 <caption><para>The Edit Event Dialog</para></caption>
       </mediaobject>
     </para>
     <para>
       When running a log, it is often desirable to have the currently
       playing event always in sight. To do this, toggle the
       <computeroutput>Scroll</computeroutput>
       button &quot;ON&quot; (blue background).
     </para>
   </sect2>
 </sect1>
 <sect1 xml:id="sect.rdairplay.editing_a_log">
   <title>Editing a Log</title>
   <sect2 xml:id="sect.rdairplay.drag_and_drop">
     <title>Drag and Drop</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="trashcan-32x32.png" width="7mm" depth="7mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       If the System Administrator has enabled Drag and Drop operation, any
       event can be copied by clicking and holding the right mouse button and
       then dragging it to the desired location of the copy. An event can
       also be deleted from a log by dragging the trash can icon and dropping
       it onto the event to be deleted.
     </para>
   </sect2>
   <sect2 xml:id="sect.rdairplay.the_editing_buttons">
     <title>The Editing Buttons</title>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.edit_buttons.png" width="75mm" depth="14mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <para>
       It is possible to edit the log loaded into any of the three log
       machines by means of the log edit buttons in the lower left-hand corner
       of the screen.
     </para>
     <sect3 xml:id="sect.rdairplay_adding_an_event">
       <title>Adding an Event</title>
       <para>
	 To add an event, touch the <computeroutput>ADD</computeroutput>
	 button to open the Select Cart dialog,
	 pick the desired cart and then touch
	 <computeroutput>OK</computeroutput>. To place the selected cart
	 using the button log widget, simply touch one of the yellow
	 <computeroutput>WHERE?</computeroutput>
	 buttons. To place it using the full log widget, click the event
	 where you wish it to go and then touch the yellow
	 <computeroutput>WHERE?</computeroutput> button.
	 If, after selecting a cart from the Select Cart dialog, you decide
	 you don't want to add it after all, simply touch the
	 <computeroutput>ADD</computeroutput> button again
	 to cancel the operation.
       </para>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="center" fileref="rdairplay.where_to.png" width="163mm" depth="124mm" />
	 </imageobject>
	 <caption><para>RDAirPlay Prompting for a Location</para></caption>
       </mediaobject>
     </para>
       <para>
	 Alternatively, if the System Administrator has enabled Drag and Drop
	 functionality, carts can be dragged directly from an instance of
	 RDLibrary and dropped into the desired location on RDAirPlay.
       </para>
     </sect3>
     <sect3 xml:id="sect.rdairplay_deleting_an_event">
       <title>Deleting an Event</title>
       <para>
	 To delete an event, touch the <computeroutput>DEL</computeroutput>
	 button, then touch one of the
	 violet <computeroutput>DELETE</computeroutput> buttons in the button
	 log widget, or select an event
	 and then touch the violet <computeroutput>DELETE</computeroutput>
	 button. To cancel the operation,
	 simply touch the <computeroutput>DEL</computeroutput> button again.
       </para>
       <para>
	 If the System Administrator has enabled Drag and Drop
	 functionality, carts can also be deleted by dragging the icon
	 of the trash can and dropping it onto the appropriate event.
       </para>
     </sect3>
     <sect3 xml:id="sect.rdairplay.moving_an_event">
       <title>Moving an Event</title>
       <para>
	 To move an event, touch the <computeroutput>MOVE</computeroutput>
	 button, then touch one of the violet
	 <computeroutput>MOVE</computeroutput> buttons in the button log
	 widget, or select an event and then
	 touch the violet <computeroutput>MOVE</computeroutput> button,
	 then touch one of the yellow <computeroutput>TO</computeroutput>
	 buttons
	 in the button log widget, or select an event and then touch the
	 yellow <computeroutput>TO</computeroutput> button.
	 To cancel the operation at any stage, simply touch
	 the <computeroutput>MOVE</computeroutput> button again.
	 It is perfectly permissible to move an event
	 between two different log machines.
       </para>
     </sect3>
     <sect3 xml:id="sect.rdairplay.copying_an_event">
       <title>Copying an Event</title>
       <para>
	 To copy an event, touch the <computeroutput>COPY</computeroutput>
	 button, then touch one of the
	 violet <computeroutput>COPY</computeroutput> buttons in the button
	 log widget, or select an event
	 and then touch the violet <computeroutput>COPY</computeroutput>
	 button, then touch one of the yellow
	 <computeroutput>TO</computeroutput> buttons in the button log
	 widget, or select an event and then
	 touch the yellow <computeroutput>TO</computeroutput> button.
	 To cancel the operation at any stage,
	 simply touch the <computeroutput>COPY</computeroutput> button again.
	 It is perfectly permissible to
	 copy an event between two different log machines.
       </para>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="center" fileref="rdairplay.delete_from.png" width="163mm" depth="124mm" />
	 </imageobject>
	 <caption><para>RDAirPlay Prompting for a Cart to Copy</para></caption>
       </mediaobject>
     </para>
       <para>
	 If the System Administrator has enabled Drag and Drop
	 functionality, carts can also be copied by simply dragging them
	 from where they are to the new location where they are wanted.
       </para>
     </sect3>
   </sect2>
   <sect2 xml:id="sect.rdairplay.the_soundpanel">
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="left" fileref="rdairplay.soundpanel_widget.png" width="90mm" depth="113mm" />
	 </imageobject>
       </mediaobject>
     </para>
     <title>The SoundPanel</title>
     <para>
       The SoundPanel is an array of buttons that appears in the right-hand
       side of RDAirPlay when the <computeroutput>Sound Panel</computeroutput>
       button is selected. Each button can be associated with
       a particular
       cart in the Library (either Audio or Macro carts), which is then
       played each time the button is clicked. The soundpanel is
       particularly useful in live assist situations where it is desired to
       drop in some piece of audio on a live, improvised basis.
     </para>
   </sect2>
   <sect2 xml:id="sect.rdairplay.panel_types">
     <title>Panel Types</title>
     <para>
       The SoundPanel has multiple panels or “panes” that can scrolled
       through by touching the double-left or double-right arrow buttons.
       Each panel has a designator, (displayed just to the right of the
       arrow keys), consisting of the letter <computeroutput>U</computeroutput>
       or <computeroutput>S</computeroutput> followed by a
       number. An <computeroutput>S</computeroutput> indicates that the
       panel is a 'system' panel,
       meaning that its button assignments will show up only on this
       particular host system; while a <computeroutput>U</computeroutput>
       indicates a 'user' panel,
       one which is associated with a particular user and that will
       &quot;follow around&quot; that user whereever he logs in the
       site. (Depending upon how the system administrator has configured
       RDAirPlay, you may not have both of these panel types available to
       you).
     </para>
   </sect2>
   <sect2 xml:id="sect.rdairplay.programming_a_soundpanel_button">
     <title>Programming a SoundPanel Button</title>
     <para>
       To associate a cart with a panel button, first touch the
       <computeroutput>Setup</computeroutput>
       button, which will begin to flash. (Depending upon how the system
       administrator has configured RDAirPlay, the
       <computeroutput>Setup</computeroutput> button may be
       disabled). Next, touch the button you wish to program, opening the
       Edit Button dialog.
     </para>
     <para>
       <mediaobject>
	 <imageobject>
	   <imagedata align="center" fileref="rdairplay.edit_button_dialog.png" width="60mm" depth="35mm" />
	 </imageobject>
	 <caption><para>The Edit Button Dialog</para></caption>
       </mediaobject>
     </para>
     <para>
       Touch the <computeroutput>Set Cart</computeroutput> button to open
       the Select Cart dialog and pick a
       cart. To clear the button –i.e. have no cart associated with it –
       touch the <computeroutput>Clear</computeroutput> button. To assign
       a custom background color to the
       button, touch the <computeroutput>Set Color</computeroutput> button.
       A custom label can be entered
       in the <computeroutput>Label</computeroutput> field, or the name of
       the cart will be used by default.
       Touch the <computeroutput>OK</computeroutput> button when done.
       When done programming all the
       desired buttons, touch the <computeroutput>Setup</computeroutput>
       button again to toggle off <computeroutput>Setup</computeroutput> mode.
     </para>
     <para>
       If the System Administrator has enabled Drag and Drop
       functionality, buttons can also be programmed by simply dragging and
       dropping a cart (from RDLibrary or from elsewhere in RDAirPlay) onto
       the desired button.
     </para>
   </sect2>
 </sect1>
</chapter>
